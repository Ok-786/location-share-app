(this["webpackJsonplocation-share-app"]=this["webpackJsonplocation-share-app"]||[]).push([[7],{126:function(e,t,n){"use strict";n.r(t);var a=n(12),c=n.n(a),i=n(14),r=n(10),s=n(0),l=n.n(s),o=n(3),u=n(13),d=(n(77),n(67)),p=n(60),j=n(66),b=n(70),f=n(128),h=n(21),v=n(62),O=n(22),m=n(1);t.default=function(){var e=Object(s.useContext)(u.a),t=Object(o.g)(),n=Object(o.h)().placeId,a=Object(s.useState)(),x=Object(r.a)(a,2),y=x[0],C=x[1],V=Object(h.a)(),N=V.isLoading,T=V.error,E=V.sendRequest,g=V.clearError,k=Object(b.a)({title:{value:"",isValid:!1},description:{value:"",isValid:!1}},!1),I=Object(r.a)(k,3),A=I[0],w=I[1],S=I[2];Object(s.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("".concat("https://location-app-s.herokuapp.com/api","/places/").concat(n));case 3:t=e.sent,C(t.place),S({title:{value:t.place.title,isValid:!0},description:{value:t.place.description,isValid:!0}},!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[E,n,S]);var _=function(){var a=Object(i.a)(c.a.mark((function a(i){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i.preventDefault(),a.prev=1,a.next=4,E("".concat("https://location-app-s.herokuapp.com/api","/places/").concat(n),"PATCH",JSON.stringify({title:A.inputs.title.value,description:A.inputs.description.value}),{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)});case 4:t.push("/".concat(e.userId,"/places")),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(1);case 9:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}();return y?N?Object(m.jsx)("div",{className:"center",children:Object(m.jsx)(O.a,{})}):y||T?Object(m.jsxs)(l.a.Fragment,{children:[Object(m.jsx)(v.a,{error:T,onClear:g}),!N&&y&&Object(m.jsxs)("form",{className:"place-form",onSubmit:_,children:[Object(m.jsx)(d.a,{id:"title",element:"input",type:"text",label:"Title",validators:[Object(j.c)()],errorText:"Please enter a valid title.",onInput:w,initialValue:y.title,initialValid:!0}),Object(m.jsx)(d.a,{id:"description",element:"textarea",label:"Description",validators:[Object(j.b)(5)],errorText:"Please enter a valid description (min. 5 characters).",onInput:w,initialValue:y.description,initialValid:!0}),Object(m.jsx)(p.a,{type:"submit",disabled:!A.isValid,children:"UPDATE PLACE"})]})]}):Object(m.jsx)("div",{className:"center",children:Object(m.jsx)(f.a,{children:Object(m.jsx)("h2",{children:"Could not find a place!"})})}):Object(m.jsx)("div",{className:"center",children:Object(m.jsx)(f.a,{children:Object(m.jsx)("h2",{children:"Could not find place!"})})})}},60:function(e,t,n){"use strict";n(0);var a=n(8),c=(n(65),n(1));t.a=function(e){return e.href?Object(c.jsx)("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href,children:e.children}):e.to?Object(c.jsx)(a.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),children:e.children}):Object(c.jsx)("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children})}},62:function(e,t,n){"use strict";n(0);var a=n(63),c=n(60),i=n(1);t.a=function(e){return Object(i.jsx)(a.a,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:Object(i.jsx)(c.a,{onClick:e.onClear,children:"Okay"}),children:Object(i.jsx)("p",{children:e.error})})}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(59),c=n(0),i=n.n(c),r=(n(64),n(9)),s=n.n(r),l=n(57),o=n(25),u=n(1),d=function(e){var t=Object(u.jsxs)("div",{className:"modal ".concat(e.className),style:e.style,children:[Object(u.jsx)("header",{className:"modal__header ".concat(e.headerClass),children:Object(u.jsx)("h2",{children:e.header})}),Object(u.jsxs)("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()},children:[Object(u.jsx)("div",{className:"modal__content ".concat(e.contentClass),children:e.children}),Object(u.jsx)("footer",{className:"modal__footer ".concat(e.footerClass),children:e.footer})]})]});return s.a.createPortal(t,document.getElementById("modal-hook"))};function p(e){return Object(u.jsxs)(i.a.Fragment,{children:[e.show&&Object(u.jsx)(o.a,{onClick:e.onCancel}),Object(u.jsx)(l.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:Object(u.jsx)(d,Object(a.a)({},e))})]})}},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d}));var a=n(69),c="REQUIRE",i="MINLENGTH",r="MAXLENGTH",s="EMAIL",l=function(){return{type:c}},o=function(e){return{type:i,val:e}},u=function(){return{type:s}},d=function(e,t){var n,l=!0,o=Object(a.a)(t);try{for(o.s();!(n=o.n()).done;){var u=n.value;u.type===c&&(l=l&&e.trim().length>0),u.type===i&&(l=l&&e.trim().length>=u.val),u.type===r&&(l=l&&e.trim().length<=u.val),"MIN"===u.type&&(l=l&&+e>=u.val),"MAX"===u.type&&(l=l&&+e<=u.val),u.type===s&&(l=l&&/^\S+@\S+\.\S+$/.test(e))}}catch(d){o.e(d)}finally{o.f()}return l}},67:function(e,t,n){"use strict";var a=n(10),c=n(59),i=n(0),r=(n(68),n(66)),s=n(1),l=function(e,t){switch(t.type){case"CHANGE":return Object(c.a)(Object(c.a)({},e),{},{value:t.val,isValid:Object(r.d)(t.val,t.validators)});case"TOUCH":return Object(c.a)(Object(c.a)({},e),{},{isTouched:!0});default:return e}};t.a=function(e){var t=Object(i.useReducer)(l,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),n=Object(a.a)(t,2),c=n[0],r=n[1],o=e.id,u=e.onInput,d=c.value,p=c.isValid;Object(i.useEffect)((function(){u(o,d,p)}),[o,d,p,u]);var j=function(t){r({type:"CHANGE",val:t.target.value,validators:e.validators})},b=function(){r({type:"TOUCH"})},f="input"===e.element?Object(s.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:j,onBlur:b,value:c.value}):Object(s.jsx)("textarea",{id:e.id,rows:e.rows||3,onChange:j,onBlur:b,value:c.value});return Object(s.jsxs)("div",{className:"form-control ".concat(!c.isValid&&c.isTouched&&"form-control--invalid"),children:[Object(s.jsx)("label",{htmlFor:e.id,children:e.label}),f,!c.isValid&&c.isTouched&&Object(s.jsx)("p",{children:e.errorText})]})}},68:function(e,t,n){},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(10),c=n(58),i=n(59),r=n(0),s=function(e,t){switch(t.type){case"INPUT_CHANGE":var n=!0;for(var a in e.inputs)e.inputs[a]&&(n=a===t.inputId?n&&t.isValid:n&&e.inputs[a].isValid);return Object(i.a)(Object(i.a)({},e),{},{inputs:Object(i.a)(Object(i.a)({},e.inputs),{},Object(c.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:n});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},l=function(e,t){var n=Object(r.useReducer)(s,{inputs:e,isValid:t}),c=Object(a.a)(n,2),i=c[0],l=c[1];return[i,Object(r.useCallback)((function(e,t,n){l({type:"INPUT_CHANGE",value:t,isValid:n,inputId:e})}),[]),Object(r.useCallback)((function(e,t){l({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]}},77:function(e,t,n){}}]);
//# sourceMappingURL=7.a63a84cf.chunk.js.map